function _extends(){return _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends.apply(this,arguments)}var CustomSelect=function(a){var b={block:"custom-select",hideCallback:!1,includeValue:!1,keyboard:!0,modifier:!1,placeholder:!1,search:!1,showCallback:!1,transition:0},c=function(){function c(c,d){this._$select=a(c),this._options=_extends({},b,"object"==typeof d?d:{}),this._activeModifier=this._options.block+"--active",this._dropupModifier=this._options.block+"--dropup",this._optionSelectedModifier=this._options.block+"__option--selected",this._keydown=this._keydown.bind(this),this._dropup=this._dropup.bind(this),this._outside=this._outside.bind(this),this._init()}var d=c.prototype;return d.reset=function(){this._$dropdown.hide().empty(),this._$value.off("click"),this._fill()},d._init=function(){this._$element=a("<div class=\""+this._options.block+"\">\n           <button class=\""+this._options.block+"__option "+this._options.block+"__option--value\" type=\"button\"></button>\n           <div class=\""+this._options.block+"__dropdown\" style=\"display: none;\"></div>\n         </div>"),this._$select.hide().after(this._$element),this._options.modifier&&this._$element.addClass(this._options.modifier),this._$value=this._$element.find("."+this._options.block+"__option--value"),this._$dropdown=this._$element.find("."+this._options.block+"__dropdown"),this._fill()},d._fill=function(){var b=this;this._$values=this._$select.find("option"),this._values=[];var c=this._options.placeholder;a.each(this._$values,function(c,d){var e=a(d).text().trim();b._values.push(e)}),c&&(this._$select.find("[selected]").length?c=!1:(this._$value.html(c),this._$select.prop("selectedIndex",-1))),a.each(this._values,function(d,e){var f=b._$values.eq(d).attr("class"),g=a("<button class=\""+b._options.block+"__option\" type=\"button\">"+e+"</button>"),h=b._$select.find(":selected");b._$values.eq(d).attr("disabled")&&g.prop("disabled",!0),(h.length||0!==d)&&e!==h.text().trim()?(g.addClass(f),b._$dropdown.append(g)):(!c&&b._$value.text(e).removeClass(b._$value.data("class")).removeData("class").addClass(f).data("class",f),(b._options.includeValue||c)&&(g.addClass(f),g.toggleClass(b._optionSelectedModifier,b._$values.eq(d).is("[selected]")),b._$dropdown.append(g)))}),this._$options=this._$dropdown.find("."+this._options.block+"__option"),this._options.search&&this._search(),this._$value.one("click",function(a){b._show(a)}),this._$value.prop("disabled",!this._$options.length),this._$options.on("click",function(a){b._select(a)})},d._show=function(b){var c=this;b.preventDefault(),this._dropup(),a(window).on("resize scroll",this._dropup),this._$element.addClass(this._activeModifier),this._$dropdown.slideDown(this._options.transition,function(){c._options.search&&(c._$input.focus(),c._options.includeValue&&c._scroll()),"function"==typeof c._options.showCallback&&c._options.showCallback.call(c._$element[0])}),setTimeout(function(){a(document).on("touchstart click",c._outside)},0),this._$value.one("click",function(a){a.preventDefault(),c._hide()}),this._options.keyboard&&(this._options.index=-1,a(window).on("keydown",this._keydown))},d._hide=function(){var b=this;this._options.search&&(this._$input.val("").blur(),this._$options.show(),this._$wrap.scrollTop(0)),this._$dropdown.slideUp(this._options.transition,function(){b._$element.removeClass(b._activeModifier).removeClass(b._dropupModifier),"function"==typeof b._options.hideCallback&&b._options.hideCallback.call(b._$element[0]),b._$value.off("click").one("click",function(a){b._show(a)}),a(document).off("touchstart click",b._outside),a(window).off("resize scroll",b._dropup)}),this._options.keyboard&&(this._$options.blur(),a(window).off("keydown",this._keydown))},d._scroll=function(){var b=this;a.each(this._$options,function(c,d){var e=a(d);if(e.text()===b._$value.text()){var f=e.position().top,g=b._$wrap.outerHeight(),h=g/2-e.outerHeight()/2;return f>h&&b._$wrap.scrollTop(f-h),!1}})},d._select=function(b){var c=this;b.preventDefault();var d=a(b.currentTarget).text().trim(),e=this._values.concat();if(this._$value.text(d).removeClass(this._$value.data("class")),this._$values.prop("selected",!1),a.each(e,function(b,f){c._options.includeValue||f!==d||e.splice(b,1),a.each(c._$values,function(b,e){var f=a(e);if(f.text().trim()===d){var g=f.attr("class");f.prop("selected",!0),c._$value.addClass(g).data("class",g)}})}),this._hide(),!this._options.includeValue){if(this._$options.length>e.length){var f=this._$options.eq(e.length);f.remove(),this._$options=this._$options.not(f),this._$options.length||this._$value.prop("disabled",!0)}a.each(this._$options,function(b,d){var f=a(d);f.text(e[b]),f.attr("class",c._options.block+"__option"),a.each(c._$values,function(){var c=a(this);c.text().trim()===e[b]&&f.addClass(c.attr("class"))})})}else this._$options.removeClass(this._optionSelectedModifier),a.each(this._$options,function(b,e){var f=a(e);if(f.text().trim()===d)return f.addClass(c._optionSelectedModifier),!1});"undefined"!=typeof b.originalEvent&&this._$select.trigger("change")},d._search=function(){var b=this;this._$input=a("<input class=\""+this._options.block+"__input\" autocomplete=\"off\">"),this._$dropdown.prepend(this._$input),this._$options.wrapAll("<div class=\""+this._options.block+"__option-wrap\"></div>"),this._$wrap=this._$element.find("."+this._options.block+"__option-wrap"),this._$input.on("focus",function(){b._options.index=-1}),this._$input.on("keyup",function(){var c=b._$input.val().trim();c.length?(b._$wrap.scrollTop(0),setTimeout(function(){c===b._$input.val().trim()&&a.each(b._$options,function(b,d){var e=a(d),f=e.text().trim().toLowerCase(),g=-1!==f.indexOf(c.toLowerCase());e.toggle(g)})},300)):b._$options.show()})},d._dropup=function(){var b=this._$element[0].getBoundingClientRect().bottom,c=a(window).height()-b<this._$dropdown.height();this._$element.toggleClass(this._dropupModifier,c)},d._outside=function(b){var c=a(b.target);c.parents().is(this._$element)||c.is(this._$element)||this._hide()},d._keydown=function(a){var b=this._$options.filter(":visible").not("[disabled]");switch(a.which){case 40:a.preventDefault();var c=b.eq(this._options.index+1).length;c?this._options.index+=1:this._options.index=0,b.eq(this._options.index).focus();break;case 38:a.preventDefault();var d=b.eq(this._options.index-1).length;d&&0<=this._options.index-1?this._options.index-=1:this._options.index=b.length-1,b.eq(this._options.index).focus();break;case 13:case 32:if(!this._$input||!this._$input.is(":focus")){a.preventDefault();var e=this._$options.add(this._$value).filter(":focus");e.trigger("click"),e.is(this._$value)||this._$select.trigger("change"),this._$value.focus()}break;case 27:a.preventDefault(),this._hide(),this._$value.focus();break;default:}},c._jQueryPlugin=function(b){return this.each(function(){var d=a(this),e=d.data("custom-select");e?"reset"===b&&e.reset():"string"!=typeof b&&(e=new c(this,b),d.data("custom-select",e))})},c}();return a.fn.customSelect=c._jQueryPlugin,a.fn.customSelect.noConflict=function(){return a.fn.customSelect},c}($);